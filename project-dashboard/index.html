<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Task Manager</title>
		<link rel="stylesheet" href="css/style.css" />
	</head>
	<body>
		<header>
			<nav>
				<div class="logo">
					<img src="/project-dashboard/assets/logo.jpg" alt="PM" />
					<li><b>daily</b> work management</li>
				</div>

				<!-- Menú-->
				<ul>
					<li>
						<button class="button">Tareas</button>
					</li>
					<li>
						<button class="button">Objetivos</button>
					</li>
					<li>
						<button class="button">Estadísticas</button>
					</li>
				</ul>

				<button class="btn">Get Started →</button>
			</nav>
		</header>

		<main>
			<div class="container">
				<!-- Sección del formulario -->
				<section id="form-section">
					<form id="task-form">
						<h2>Crear Nueva Tarea</h2>

						<div class="step active" id="step-1">
							<label for="goal-select">Objetivo:</label>
							<select id="goal-select"></select>
							<button class="form-buttons" type="button" onclick="nextStep(2)">
								Siguiente
							</button>
						</div>

						<div class="step" id="step-2">
							<input
								type="text"
								name="title"
								placeholder="Nombre de la tarea"
								required
							/>
							<button class="form-buttons" type="button" onclick="nextStep(3)">
								Siguiente
							</button>
						</div>

						<div class="step" id="step-3">
							<input type="date" name="due_date" required />
							<label for="priority">Prioridad:</label>
							<select name="priority">
								<option value="Baja">Baja</option>
								<option value="Media">Media</option>
								<option value="Alta">Alta</option>
							</select>
							<button class="form-buttons" type="button" onclick="nextStep(4)">
								Siguiente
							</button>
						</div>

						<div class="step" id="step-4">
							<label for="ttag">Etiquetas:</label>
							<input
								type="text"
								id="ttag"
								name="ttag"
								placeholder="Busca o escribe una etiqueta..."
								required
							/>
							<button class="form-buttons" type="button" onclick="nextStep(5)">
								Siguiente
							</button>
						</div>

						<div class="step" id="step-5">
							<label for="assigned-to">Asignado a:</label>
							<input
								type="text"
								id="assigned-to"
								name="assigned_to"
								placeholder="Nombre de la persona"
							/>
							<div class="checkbox-container">
								<input
									type="checkbox"
									id="notifications"
									name="notifications"
								/>
								<label for="notifications"
									>Recordarme antes de la fecha de vencimiento</label
								>
							</div>
							<button class="form-buttons" type="submit">Crear tarea</button>
						</div>
					</form>
				</section>

				<!-- Sección de tareas -->
				<section id="task-section">
					<h2>Tareas Creadas</h2>
					<ul id="task-list">
						<li>Ejemplo de tarea</li>
					</ul>
				</section>
			</div>

			<div class="container">
				<!-- Sección del formulario de objetivos -->
				<section id="goals-form-section">
					<h2>Crear Nuevo Objetivo</h2>
					<form id="goal-form">
						<label for="gtitle">Título del objetivo:</label>
						<input
							type="text"
							id="gtitle"
							name="gtitle"
							placeholder="Escribe tu objetivo..."
							required
						/>
						<div id="gtags-container">
							<label for="gtag">Etiqueta:</label>
							<input
								type="text"
								id="gtag"
								name="gtag"
								placeholder="Busca o escribe una etiqueta..."
								oninput="filterTags()"
								required
							/>
							<ul id="gtags-suggestions" class="hidden">
								<!-- Las opciones de etiquetas se mostrarán aquí -->
							</ul>
						</div>

						<label for="gdate">Fecha de vencimiento:</label>
						<input type="date" id="gdate" name="gdate" required />

						<button class="form-buttons" type="submit">Agregar Objetivo</button>
					</form>
				</section>

				<!-- Sección donde se mostrarán los objetivos -->
				<section id="goals-section">
					<h2>Lista de Objetivos</h2>
					<ul id="goals-list">
						<li>hola</li>
						<!-- Aquí se insertarán los objetivos dinámicamente -->
					</ul>
				</section>
			</div>

			<div class="charts">
				<div id="stats">
					<p>Total de tareas: <span id="totalTasks">0</span></p>
					<p>Tareas completadas: <span id="completedTasks">0</span></p>
					<p>Progreso total: <span id="completedPercentage">0</span>%</p>
				</div>
				<canvas id="taskChart"></canvas>

				<!-- Modal -->
				<div id="modal" class="modal-overlay">
					<div class="modal-content">
						<button class="modal-close" onclick="closeModal()">✖</button>
						<p id="modal-content2"></p>
						<canvas id="taskChart2"></canvas>
					</div>
				</div>

				<canvas id="tagChart"></canvas>
			</div>
		</main>

		<script type="module" src="./js/script.js"></script>
		<script src="./js/storage.js"></script>
		<script type="module" src="./js/charts.js"></script>
		<script src="./js/autocompleteSearchTag.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script>
			function nextStep(step) {
				document
					.querySelectorAll('.step')
					.forEach((el) => el.classList.remove('active'));
				document.getElementById('step-' + step).classList.add('active');
			}
		</script>
	</body>
</html>
